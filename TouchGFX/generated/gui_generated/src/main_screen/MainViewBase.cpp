/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/main_screen/MainViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

MainViewBase::MainViewBase() :
    wheelChangeScreenCallback(this, &MainViewBase::wheelChangeScreenCallbackHandler),
    flexButtonCallback(this, &MainViewBase::flexButtonCallbackHandler)
{
    __background.setPosition(0, 0, 480, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_MAIN_BACKGROUND_PATTERN_480_ID));
    add(background);

    wheel.setXY(0, 0);
    wheel.setChangeScreenCallback(wheelChangeScreenCallback);
    add(wheel);

    frame.setXY(0, 0);
    frame.setBitmap(touchgfx::Bitmap(BITMAP_MAIN_PATTERN_ROUND_FRAME_480_ID));
    add(frame);

    backButton.setIconBitmaps(Bitmap(BITMAP_ICON_BACK_24_NORMAL_BLUE_ID), Bitmap(BITMAP_ICON_BACK_24_PRESSED_ID));
    backButton.setIconXY(92, -5);
    backButton.setAction(flexButtonCallback);
    backButton.setPosition(128, 431, 224, 49);
    add(backButton);
}

MainViewBase::~MainViewBase()
{

}

void MainViewBase::setupScreen()
{
    wheel.initialize();
}

void MainViewBase::wheelChangeScreenCallbackHandler(uint8_t value)
{
    //ChangeScreen
    //When wheel changeScreen call changeScreen on Main
    //Call changeScreen
    changeScreen(value);
}

void MainViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &backButton)
    {
        //GoToIntro
        //When backButton clicked change screen to Intro
        //Go to Intro with no screen transition
        application().gotoIntroScreenNoTransition();
    }
}

void MainViewBase::goToWatch()
{
    //ChangeScreenToWatchScreen
    //When goToWatch is called change screen to Watch
    //Go to Watch with screen transition towards East
    application().gotoWatchScreenWipeTransitionEast();
}

void MainViewBase::goToCompass()
{
    //ChangeScreenToCompassScreen
    //When goToCompass is called change screen to Compass
    //Go to Compass with screen transition towards East
    application().gotoCompassScreenWipeTransitionEast();
}

void MainViewBase::goToThermostat()
{
    //ChangeScreenToThermostatScreen
    //When goToThermostat is called change screen to Thermostat
    //Go to Thermostat with screen transition towards East
    application().gotoThermostatScreenWipeTransitionEast();
}

void MainViewBase::goToDashboard()
{
    //ChangeScreenToDashboardScreen
    //When goToDashboard is called change screen to Dashboard
    //Go to Dashboard with screen transition towards East
    application().gotoDashboardScreenWipeTransitionEast();
}

void MainViewBase::afterTransition()
{
    //StartFlowerAnimation
    //When screen transition ends call startFlowerAnimation on Main
    //Call startFlowerAnimation
    startFlowerAnimation();
}

void MainViewBase::goToSvg()
{
    //ChangeScreenToSVGScreen
    //When goToSvg is called change screen to Svg
    //Go to Svg with screen transition towards East
    application().gotoSvgScreenWipeTransitionEast();
}

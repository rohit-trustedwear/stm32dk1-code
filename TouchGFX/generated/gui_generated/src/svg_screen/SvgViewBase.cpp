/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/svg_screen/SvgViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include<images/SVGDatabase.hpp>
#include <images/BitmapDatabase.hpp>

SvgViewBase::SvgViewBase() :
    flexButtonCallback(this, &SvgViewBase::flexButtonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 480, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    whiteBackgroundBox.setPosition(0, 0, 480, 480);
    whiteBackgroundBox.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    add(whiteBackgroundBox);

    stLogoSvg.setSVG(SVG_STLOGO_ID);
    stLogoSvg.setPosition(146, 175, 188, 131);
    stLogoSvg.setScale(1.0f, 1.0f);
    stLogoSvg.setImagePosition(0, 0);
    stLogoSvg.setRotationCenter(93, 60);
    stLogoSvg.setRotation(0.0f);
    add(stLogoSvg);

    backroundImage.setXY(0, 0);
    backroundImage.setBitmap(touchgfx::Bitmap(BITMAP_SVG_BACKGROUND_480_ID));
    backroundImage.setAlpha(0);
    add(backroundImage);

    cameraSvg.setSVG(SVG_OLD_PHOTO_CAMERA_ID);
    cameraSvg.setPosition(-331, 370, 128, 128);
    cameraSvg.setScale(1.0f, 1.0f);
    cameraSvg.setImagePosition(0, 0);
    cameraSvg.setRotationCenter(64, 64);
    cameraSvg.setRotation(0.0f);
    add(cameraSvg);

    paletteSvg.setSVG(SVG_PALETTE_ID);
    paletteSvg.setPosition(-229, 370, 128, 128);
    paletteSvg.setScale(1.0f, 1.0f);
    paletteSvg.setImagePosition(0, 0);
    paletteSvg.setRotationCenter(64, 64);
    paletteSvg.setRotation(0.0f);
    add(paletteSvg);

    dogSvg.setSVG(SVG_DOG_ID);
    dogSvg.setPosition(-128, 370, 128, 128);
    dogSvg.setScale(1.0f, 1.0f);
    dogSvg.setImagePosition(0, 0);
    dogSvg.setRotationCenter(64, 64);
    dogSvg.setRotation(0.0f);
    add(dogSvg);

    backButton.setIconBitmaps(Bitmap(BITMAP_ICON_BACK_24_NORMAL_ID), Bitmap(BITMAP_ICON_BACK_24_PRESSED_ID));
    backButton.setIconXY(92, -1);
    backButton.setAction(flexButtonCallback);
    backButton.setPosition(128, 429, 220, 51);
    add(backButton);
}

SvgViewBase::~SvgViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void SvgViewBase::setupScreen()
{

}

void SvgViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &backButton)
    {
        //ChangeScreenToMain
        //When backButton clicked change screen to Main
        //Go to Main with screen transition towards East
        application().gotoMainScreenWipeTransitionEast();
    }
}
